(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[593],{8694:()=>{},879:(e,t,a)=>{Promise.resolve().then(a.bind(a,9809))},9809:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var r=a(5155);a(2115);var s=a(2863),i=a(7066),n=a(9556),c=a(5906),l=a(1605),d=a.n(l);let o=new i.E;async function h(e){try{d().websocket.isActive()||await d().websocket.connect().catch(e=>console.error("QZ Connection Error:",e));let t=e.items.flatMap(e=>e.skuDocuments.map(e=>e.url)),a=d().configs.create("Brother Laser");await d().print(a,[{type:"pdf",data:"/api/packing-slip?orderId=".concat(e.id)},...t.map(e=>({type:"pdf",data:e}))]).catch(e=>console.error("Printing Docs Error:",e));let r=d().configs.create("Zebra GX430t");await d().print(r,[{type:"raw",format:"zpl",data:e.shippingLabelZpl}]).catch(e=>console.error("Printing Label Error:",e)),await fetch("/api/orders/".concat(e.id,"/printed"),{method:"POST"}),alert("Printed Order ".concat(e.id))}catch(e){console.error("Print failed",e),alert("Printing failed. Check console for details. Make sure QZ Tray is running.")}}function p(){let{data:e=[]}=(0,n.I)({queryKey:["orders"],queryFn:()=>fetch("/api/orders").then(e=>e.json())});return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-cyan-50 p-6",children:[(0,r.jsx)(s.P.h1,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},className:"text-4xl font-bold text-center mb-10 text-gray-800",children:"Antigravity Warehouse â€” Ready to Ship"}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto overflow-hidden rounded-2xl shadow-2xl bg-white/80 backdrop-blur",children:(0,r.jsxs)("table",{className:"w-full text-left",children:[(0,r.jsx)("thead",{className:"bg-gradient-to-r from-purple-600 to-cyan-600 text-white",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"p-4",children:"Order ID"}),(0,r.jsx)("th",{className:"p-4",children:"Buyer Name"}),(0,r.jsx)("th",{className:"p-4",children:"Product Title"}),(0,r.jsx)("th",{className:"p-4 text-center",children:"QTY"}),(0,r.jsx)("th",{className:"p-4",children:"Ship by date"}),(0,r.jsx)("th",{className:"p-4",children:"SKU"}),(0,r.jsx)("th",{className:"p-4",children:"As"}),(0,r.jsx)("th",{className:"p-4",children:"Shipping TRK #"}),(0,r.jsx)("th",{className:"p-4 text-center",children:"Action"})]})}),(0,r.jsx)("tbody",{children:e.map((e,t)=>(0,r.jsxs)(s.P.tr,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"border-b hover:bg-purple-50/50 transition",children:[(0,r.jsx)("td",{className:"p-4 font-medium",children:e.id}),(0,r.jsx)("td",{className:"p-4",children:e.buyerName}),(0,r.jsx)("td",{className:"p-4",children:e.items.map(e=>e.title).join(", ")}),(0,r.jsx)("td",{className:"p-4 text-center",children:e.items.reduce((e,t)=>e+t.qty,0)}),(0,r.jsx)("td",{className:"p-4",children:new Date(e.shipBy).toLocaleDateString()}),(0,r.jsx)("td",{className:"p-4",children:e.items.map(e=>e.sku).join(", ")}),(0,r.jsx)("td",{className:"p-4",children:e.shippingSpeed}),(0,r.jsx)("td",{className:"p-4 font-mono text-sm",children:e.trackingNumber}),(0,r.jsx)("td",{className:"p-4 text-center",children:(0,r.jsx)(s.P.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>h(e),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-cyan-600 text-white rounded-full shadow-lg font-medium",children:"Print Docs + Label"})})]},e.id))})]})})]})}function m(){return(0,r.jsx)(c.Ht,{client:o,children:(0,r.jsx)(p,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[175,441,517,358],()=>t(879)),_N_E=e.O()}]);